:root {
  --gap: 12px;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, Arial, Helvetica, sans-serif; }
.page { display: grid; grid-template-rows: auto 1fr; min-height: 100svh; }
.controls { padding: 1rem; border-bottom: 1px solid #e5e7eb; background: #fafafa; }
.field { display: flex; gap: var(--gap); align-items: center; flex-wrap: wrap; }
#btnCount { width: 6rem; padding: .5rem .6rem; }
#goBtn { padding: .6rem 1rem; cursor: pointer; border-radius: .5rem; border: 1px solid #d0d0d0; background: white; }
#goBtn:hover { background: #f3f4f6; }
.message { margin-top: .5rem; color: #111827; min-height: 1.5rem; }
.stage {
  position: relative; /* Crucial for absolute positioning of children */
  block-size: calc(100svh - 92px);
  inline-size: 100%;
  overflow: hidden;
  padding: var(--gap);
}

/* Game buttons */
.game-btn { position: relative; display: inline-flex; align-items: center; justify-content: center; border: none; height: 5em; width: 10em; margin: 0; border-radius: .8rem; color: #111; font-weight: 700; cursor: default; user-select: none; box-shadow: 0 4px 10px rgba(0,0,0,.08); transition: transform .2s ease; }
.game-btn.disabled { pointer-events: none; filter: grayscale(.2) saturate(.6) opacity(.9); }
.game-btn.clickable { cursor: pointer; }

/* Smooth absolute moves */
.game-btn.absolute { position: absolute; transition: left .45s ease, top .45s ease; }

/* Badge that shows order when revealed */
.game-btn .badge { position: absolute; top: 6px; right: 8px; background: rgba(255,255,255,.9); border-radius: .6rem; padding: 2px 6px; font-size: .8rem; box-shadow: 0 2px 6px rgba(0,0,0,.1); }